<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <ThingDef ParentName="MakeableDrugBase">
    <defName>FCP_Steady</defName>
    <label>Steady</label>
    <description>A hard combat drug made from a cocktail of chemicals, it provides the user with deadshot aim, at the cost of being extraordinarily addictive.</description>
    <descriptionHyperlinks>
      <HediffDef>SteadyHigh</HediffDef>
      <HediffDef>SteadyTolerance</HediffDef>
      <HediffDef>SteadyAddiction</HediffDef>
      <HediffDef>ChemicalDamageModerate</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>Things/Item/Drug/Steady</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <rotatable>false</rotatable>
    <statBases>
      <WorkToMake>600</WorkToMake>
      <MarketValue>80</MarketValue>
      <Mass>0.05</Mass>
      <DeteriorationRate>6</DeteriorationRate>
      <Flammability>1.3</Flammability>
    </statBases>
    <techLevel>Industrial</techLevel>
    <ingestible>
      <foodType>Processed</foodType>
      <baseIngestTicks>120</baseIngestTicks>
      <nurseable>true</nurseable>
      <drugCategory>Hard</drugCategory>
      <ingestSound>Ingest_Snort</ingestSound>
      <ingestEffectEat>EatVegetarian</ingestEffectEat>
      <ingestHoldOffsetStanding>
        <northDefault>
          <offset>(0.27,0,0.08)</offset>
          <behind>true</behind>
        </northDefault>
        <east>
          <offset>(0.45,0,0.08)</offset>
        </east>
        <south>
          <offset>(0.27,0,0.08)</offset>
        </south>
        <west>
          <offset>(-0.50,0,0.08)</offset>
          <flip>true</flip>
        </west>
      </ingestHoldOffsetStanding>
      <ingestHoldUsesTable>false</ingestHoldUsesTable>
      <ingestCommandString>Inhale {0}</ingestCommandString>
      <ingestReportString>Inhaling {0}.</ingestReportString>
      <ingestReportStringEat>Consuming {0}.</ingestReportStringEat>
      <useEatingSpeedStat>false</useEatingSpeedStat>
      <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>SteadyHigh</hediffDef>
          <severity>0.75</severity>
          <toleranceChemical>Steady</toleranceChemical>
        </li>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>SteadyTolerance</hediffDef>
          <severity>0.044</severity>
          <divideByBodySize>true</divideByBodySize>
        </li>
      </outcomeDoers>
    </ingestible>
    <recipeMaker>
      <researchPrerequisite>FCP_ChemsHard</researchPrerequisite>
      <recipeUsers>
        <li>DrugLab</li>
      </recipeUsers>
      <workSpeedStat>DrugCookingSpeed</workSpeedStat>
      <workSkill>Cooking</workSkill>
    </recipeMaker>
    <costList>
      <Neutroamine>2</Neutroamine>
    </costList>
    <comps>
      <li Class="CompProperties_Drug">
        <chemical>Steady</chemical>
        <addictiveness>0.8</addictiveness>
        <minToleranceToAddict>0.05</minToleranceToAddict>
        <existingAddictionSeverityOffset>0.2</existingAddictionSeverityOffset>
        <needLevelOffset>1</needLevelOffset>
        <isCombatEnhancingDrug>true</isCombatEnhancingDrug>
        <overdoseSeverityOffset>0.20~0.40</overdoseSeverityOffset>
        <largeOverdoseChance>0.005</largeOverdoseChance>
        <listOrder>20</listOrder>
      </li>
    </comps>
  </ThingDef>

  <HediffDef>
    <defName>SteadyHigh</defName>
    <label>Steadied by steady Steady</label>
    <labelNoun>Steady steadiness</labelNoun>
    <description>Steady makes user extremaly Steady</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(1,0,0.5)</defaultLabelColor>
    <scenarioCanAdd>true</scenarioCanAdd>
    <maxSeverity>1.0</maxSeverity>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-1.0</severityPerDay>
      </li>
    </comps>
      <stages>
            <li>
	  <statOffsets>
	      <ShootingAccuracyPawn>20</ShootingAccuracyPawn>
	  </statOffsets>
        </li>
      </stages>
  </HediffDef>

  <!-- Steady addiction -->

  <ChemicalDef>
    <defName>Steady</defName>
    <label>Steady</label>
    <addictionHediff>SteadyAddiction</addictionHediff>
    <toleranceHediff>SteadyTolerance</toleranceHediff>
    <onGeneratedAddictedToleranceChance>0.8</onGeneratedAddictedToleranceChance>
  </ChemicalDef>

  <NeedDef ParentName="DrugAddictionNeedBase">
    <defName>Chemical_Steady</defName>
    <needClass>Need_Chemical</needClass>
    <label>Steady</label>
    <description>Because of a Steady dependence, this person needs to regularly consume Steady to avoid withdrawal symptoms.</description>
    <listPriority>25</listPriority>
  </NeedDef>
  
  <HediffDef ParentName="DrugToleranceBase">
    <defName>SteadyTolerance</defName>
    <label>Steady tolerance</label>
    <description>A built-up tolerance to Steady. The more severe this tolerance is, the more Steady it takes to get the same effect.</description>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.333</severityPerDay>
      </li>
      <li Class="HediffCompProperties_DrugEffectFactor">
        <chemical>Steady</chemical>
      </li>
    </comps>
  </HediffDef>

  <HediffDef ParentName="AddictionBase">
    <defName>SteadyAddiction</defName>
    <label>Steady dependence</label>
    <description>A chemical addiction to Steady. Long-term use of Steady has caused neurological adaptations at the cellular level, so the brain can no longer function properly without the drug.
\nWithout regular doses of Steady, withdrawal symptoms will begin. However, extended abstinence will force the brain to adapt back to its normal state, resolving the addiction.</description>
    <hediffClass>Hediff_Addiction</hediffClass>
    <causesNeed>Chemical_Steady</causesNeed>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.15</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
      </li>
      <li>
        <label>withdrawal</label>
	  <statOffsets>
	      <ShootingAccuracyPawn>-10</ShootingAccuracyPawn>
	  </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <ThoughtDef>
    <defName>SteadyWithdrawal</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>SteadyAddiction</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <stages>
      <li>
        <visible>false</visible>
      </li>
      <li>
        <label>Steady withdrawal</label>
        <description>My hands are shaking. Not good.</description>
        <baseMoodEffect>-5</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

</Defs>